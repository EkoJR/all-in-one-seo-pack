!function(n,t){n(document).ready(function(){n(".aioseop-chosen").chosen({width:"95%",max_shown_results:20,rtl:!0,placeholder_text_multiple:t.l10n.choose_terms,no_results_text:t.l10n.term_searching,display_selected_options:!1}),n.fn.enableTextBox=function(){n(this).parent().find("input[type='text']").addClass("default").css("width","200px")},n(".aioseop-chosen").on("change, chosen:hiding_dropdown",function(e,o){n(".aioseop-chosen").enableTextBox()}),n(".chosen-container input").autocomplete({delay:500,minLength:3,source:function(e,o){n.ajax({url:ajaxurl,method:"POST",dataType:"json",data:{term:e.term,nonce:t.ajax.nonce,action:t.ajax.action,_action:"fetch_terms",taxonomy:n('[name="aiosp_sitemap_taxonomies[]"]:checked').serialize()},success:function(e){if(!e.success)return n(".aioseop-chosen").prepend('<option value="-1" disabled>'+e.data.msg+"</option>"),n(".aioseop-chosen").trigger("chosen:updated"),n('.aioseop-chosen option[value="-1"]').remove(),void setTimeout(function(){n(".aioseop-chosen").trigger("chosen:updated"),n(".aioseop-chosen").enableTextBox()},1e3);o(n.map(e.data,function(e){0===n('.aioseop-chosen option[value="'+e.id+'"]').length&&n(".aioseop-chosen").prepend('<option value="'+e.id+'">'+e.name+"</option>")})),n(".aioseop-chosen").trigger("chosen:updated"),n(".aioseop-chosen").enableTextBox()}})}})})}(jQuery,sitemap);